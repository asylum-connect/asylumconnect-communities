{"ast":null,"code":"import _defineProperty from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/hbrinkley/Git/asylumconnect-communities/client/src/screens/MainPage.js\";\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-left: 16px;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  borderRight: '0.1px solid black';\\n  borderColor: 'black';\\n  padding: '0.5em';\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 12px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 12px 0px;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  flex-grow: 5;\\n  margin: 16px;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  display:flex;\\n  flex-direction:column;\\n  justify-content: space-around;\\n  align: left;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 8;\\n  flex-direction: column;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1;\\n  align-items: center;\\n  justify-content: space-between;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  background-color: white;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport TextBox from '../components/TextBox';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport { Redirect } from 'react-router-dom';\nimport RainbowPaint from '../assets/rainbow-paint.jpg';\nimport Navbar from '../components/Navbar';\nimport Footer from '../components/Footer';\nimport axios from 'axios';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport { withStyles } from '@material-ui/core/styles';\nvar PageContainer = styled.div(_templateObject());\nvar MainFlexNavBar = styled.div(_templateObject2());\nvar MainFlexCenterPage = styled.div(_templateObject3());\nvar LayoutLeft = styled.div(_templateObject4()); //const CardHeader = styled.div`\n//    display: flex;\n//    flex-direction:row;\n//`;\n\nvar WelcomeHeader = withStyles({\n  root: {\n    background: '#5073b3',\n    textColor: 'white',\n    height: 100,\n    textAlign: 'left',\n    \".MuiTypography-headline-45\": {\n      color: 'white'\n    }\n  }\n})(CardHeader); // const WelcomeHeader = styled.div`\n//   align: center;\n//   height: 100;\n// `;\n\nvar MainPageRow = styled.div(_templateObject5());\nvar CategoryLayout = styled.div(_templateObject6());\nvar SubCategoryLayout = styled.div(_templateObject7());\nvar SubCategoryDivider = withStyles({\n  root: {\n    marginTop: \"16px\",\n    marginBottom: \"16px\" //marginRight \"1px\"\n\n  }\n})(Divider);\nvar SubCategoryLink = styled.div(_templateObject8());\nvar SideBarColumn = styled.div(_templateObject9());\nvar ListContainer = styled.div(_templateObject10());\nvar NewPostButton = withStyles({\n  root: {\n    background: '#cc4747',\n    borderRadius: 100,\n    border: 0,\n    color: 'white',\n    height: 56,\n    padding: '0 30px',\n    fontSize: '16px',\n    width: '300px',\n    margin: '32px auto'\n  },\n  label: {\n    textTransform: 'capitalize'\n  }\n})(Button);\nvar LogOutButton = withStyles({\n  root: {\n    flexBasis: 'fit-content',\n    padding: '8px 12px',\n    marginRight: '100px'\n  },\n  label: {\n    textTransform: 'capitalize'\n  }\n})(Button);\n\nvar MainPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MainPage, _React$Component);\n\n  function MainPage(props) {\n    var _this;\n\n    _classCallCheck(this, MainPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainPage).call(this, props));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleNewPostClicked = function (event) {\n      event.preventDefault();\n      _this.state.newPostClicked = true;\n\n      _this.setState(_this.state);\n    };\n\n    _this.handleLogOut = function (event) {\n      event.preventDefault();\n      axios.post('/api/logout').then(function (response) {\n        _this.state.isAuthenticated = false;\n\n        _this.setState(_this.state);\n      });\n    };\n\n    _this.state = {\n      categories: [],\n      isAuthenticated: true,\n      newPostClicked: false,\n      latestPosts: [{\n        \"title\": \"Article1\",\n        \"href\": \"/Article1\"\n      }, {\n        \"title\": \"Article1\",\n        \"href\": \"/Article1\"\n      }, {\n        \"title\": \"Article1\",\n        \"href\": \"/Article1\"\n      }],\n      communityPosts: [{\n        \"title\": \"Meet an LGBTQ Asylee\",\n        \"href\": \"Meet an LGBTQ Asylee\"\n      }, {\n        \"title\": \"Legal Questions\",\n        \"href\": \"Legal Questions\"\n      }, {\n        \"title\": \"Leaving Your Country\",\n        \"href\": \"Leaving Your Country\"\n      }],\n      categoryPosts: [{\n        \"title\": \"Subcategory1\",\n        \"href\": \"Subcategory1\"\n      }, {\n        \"title\": \"Subcategory1\",\n        \"href\": \"Subcategory1\"\n      }, {\n        \"title\": \"Subcategory1\",\n        \"href\": \"Subcategory1\"\n      }],\n      topPosts: [{\n        \"title\": \"TopPost1\",\n        \"href\": \"TopPost1\"\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(MainPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initializeSubCategories(\"Welcome\");\n      this.initializeSubCategories(\"The Community\");\n      this.initializeSubCategories(\"Category\");\n    }\n  }, {\n    key: \"renderLatestPosts\",\n    value: function renderLatestPosts() {\n      var latestPosts = this.state.latestPosts;\n      var latestPostLinks = [];\n\n      for (var i = 0; i < latestPosts.length; i++) {\n        latestPostLinks.push(React.createElement(\"a\", {\n          href: latestPosts[i].href,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, \"P=\", latestPosts[i].title, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        })));\n      }\n\n      return latestPostLinks;\n    }\n  }, {\n    key: \"renderCommunityPosts\",\n    value: function renderCommunityPosts() {\n      var communityPosts = this.state.communityPosts;\n      var communityPostLinks = [];\n      communityPostLinks.push(React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }));\n\n      for (var i = 0; i < communityPosts.length; i++) {\n        communityPostLinks.push(React.createElement(\"a\", {\n          href: communityPosts[i].href,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, \"P=\", communityPosts[i].title, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        })), React.createElement(SubCategoryDivider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }));\n      }\n\n      return communityPostLinks;\n    }\n  }, {\n    key: \"renderCategoryPosts\",\n    value: function renderCategoryPosts() {\n      var categoryPosts = this.state.categoryPosts;\n      var categoryPostLinks = [];\n      categoryPostLinks.push(React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }));\n\n      for (var i = 0; i < categoryPosts.length; i++) {\n        categoryPostLinks.push(React.createElement(\"a\", {\n          href: categoryPosts[i].href,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, \"P=\", categoryPosts[i].title, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        })), React.createElement(SubCategoryDivider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }));\n      }\n\n      return categoryPostLinks;\n    }\n  }, {\n    key: \"renderTopPosts\",\n    value: function renderTopPosts() {\n      var topPosts = this.state.topPosts;\n      var topPostLinks = [];\n\n      for (var i = 0; i < topPosts.length; i++) {\n        topPostLinks.push(React.createElement(\"a\", {\n          href: topPosts[i].href,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, \"P=\", topPosts[i].title, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        })));\n      }\n\n      return topPostLinks;\n    }\n  }, {\n    key: \"initializeSubCategories\",\n    value: function initializeSubCategories(categoryTitle) {\n      var _this2 = this;\n\n      var category = {\n        title: categoryTitle\n      };\n      axios.get('/api/categories').then(function (response) {\n        var categoryId = response.data.data.categories.find(function (category) {\n          return category.title == categoryTitle;\n        })._id;\n\n        return axios.get('/api/subcategories', {\n          params: {\n            categoryId: categoryId\n          }\n        });\n      }).then(function (response) {\n        category.subcategories = response.data.data.subcategories;\n        console.log(category.subcategories);\n\n        _this2.state.categories.push(category);\n\n        _this2.setState(_this2.state);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          categories = _this$state.categories,\n          isAuthenticated = _this$state.isAuthenticated,\n          newPostClicked = _this$state.newPostClicked;\n\n      if (!isAuthenticated) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        });\n      }\n\n      if (newPostClicked) {\n        return React.createElement(Redirect, {\n          to: \"/CreateForum\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        });\n      }\n\n      function SubCategories(props) {\n        var categories = props.categories;\n\n        if (categories) {\n          var specificCategory = categories.find(function (category) {\n            return category.title == props.categoryTitle;\n          });\n\n          if (specificCategory && specificCategory.subcategories) {\n            var subCategoryLayouts = specificCategory.subcategories.map(function (subCategory) {\n              // TODO: Send subCategory id as URL param\n              // const forumLink = \"/Forum/\" + subCategory._id;\n              var forumLink = \"/Forum\";\n              return (// Add links to specific subCategory\n                React.createElement(SubCategoryLayout, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 297\n                  },\n                  __self: this\n                }, React.createElement(SubCategoryDivider, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 298\n                  },\n                  __self: this\n                }), React.createElement(SubCategoryLink, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 299\n                  },\n                  __self: this\n                }, React.createElement(\"a\", {\n                  href: forumLink,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 300\n                  },\n                  __self: this\n                }, subCategory.title)))\n              );\n            });\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 305\n              },\n              __self: this\n            }, subCategoryLayouts);\n          }\n        }\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          },\n          __self: this\n        }, \"Text\");\n      }\n\n      return React.createElement(PageContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(MainFlexNavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }), React.createElement(LogOutButton, {\n        onClick: this.handleLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, \"LOG OUT\")), React.createElement(MainFlexCenterPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, React.createElement(WelcomeHeader, {\n        title: \"Welcome to the AsylumConnect Community!\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }), React.createElement(MainPageRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, React.createElement(CategoryLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        title: \"Welcome\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/Introduce Yourself\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, \"Introduce Yourself\"), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }), React.createElement(CardHeader, {\n        title: \"The Community\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }), React.createElement(ListContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, this.renderCommunityPosts()), React.createElement(CardHeader, {\n        title: \"Category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }), React.createElement(ListContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, this.renderCategoryPosts())), React.createElement(SideBarColumn, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, React.createElement(NewPostButton, {\n        onClick: this.handleNewPostClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, \"MAKE A NEW POST\"), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }), React.createElement(CardHeader, {\n        title: \"Latest Posts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }), React.createElement(ListContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, this.renderLatestPosts()), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }), React.createElement(CardHeader, {\n        title: \"Top Posts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }), React.createElement(ListContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, this.renderTopPosts())))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return MainPage;\n}(React.Component);\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/hbrinkley/Git/asylumconnect-communities/client/src/screens/MainPage.js"],"names":["React","styled","TextBox","Input","Button","Redirect","RainbowPaint","Navbar","Footer","axios","CardHeader","Divider","withStyles","PageContainer","div","MainFlexNavBar","MainFlexCenterPage","LayoutLeft","WelcomeHeader","root","background","textColor","height","textAlign","color","MainPageRow","CategoryLayout","SubCategoryLayout","SubCategoryDivider","marginTop","marginBottom","SubCategoryLink","SideBarColumn","ListContainer","NewPostButton","borderRadius","border","padding","fontSize","width","margin","label","textTransform","LogOutButton","flexBasis","marginRight","MainPage","props","handleChange","e","setState","target","name","value","handleNewPostClicked","event","preventDefault","state","newPostClicked","handleLogOut","post","then","response","isAuthenticated","categories","latestPosts","communityPosts","categoryPosts","topPosts","initializeSubCategories","latestPostLinks","i","length","push","href","title","communityPostLinks","categoryPostLinks","topPostLinks","categoryTitle","category","get","categoryId","data","find","_id","params","subcategories","console","log","SubCategories","specificCategory","subCategoryLayouts","map","subCategory","forumLink","renderCommunityPosts","renderCategoryPosts","renderLatestPosts","renderTopPosts","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from 'styled-components'\nimport TextBox from '../components/TextBox';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport  { Redirect } from 'react-router-dom'\nimport RainbowPaint from '../assets/rainbow-paint.jpg'\nimport Navbar from '../components/Navbar'\nimport Footer from '../components/Footer'\nimport axios from 'axios'\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst PageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n`;\n\nconst MainFlexNavBar = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst MainFlexCenterPage = styled.div`\n  flex: 8;\n  flex-direction: column;\n`;\n\nconst LayoutLeft = styled.div`\n  display:flex;\n  flex-direction:column;\n  justify-content: space-around;\n  align: left;\n`;\n\n//const CardHeader = styled.div`\n//    display: flex;\n//    flex-direction:row;\n//`;\n\nconst WelcomeHeader = withStyles({\n  root: {\n    background: '#5073b3',\n    textColor: 'white',\n    height: 100,\n    textAlign: 'left',\n    \".MuiTypography-headline-45\": {\n        color: 'white'\n      },\n  },\n})(CardHeader);\n\n// const WelcomeHeader = styled.div`\n//   align: center;\n//   height: 100;\n// `;\n\nconst MainPageRow = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst CategoryLayout = styled.div`\n  flex: 1;\n  flex-grow: 5;\n  margin: 16px;\n`;\n\nconst SubCategoryLayout = styled.div`\n  margin: 12px 0px;\n`;\n\nconst SubCategoryDivider = withStyles({\n  root: {\n    marginTop: \"16px\",\n    marginBottom: \"16px\"\n    //marginRight \"1px\"\n  }\n})(Divider);\n\nconst SubCategoryLink = styled.div`\n  margin: 12px;\n`;\n\nconst SideBarColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  borderRight: '0.1px solid black';\n  borderColor: 'black';\n  padding: '0.5em';\n`;\n\nconst ListContainer = styled.div`\n  margin-left: 16px;\n`;\n\n\nconst NewPostButton = withStyles({\n  root: {\n    background: '#cc4747',\n    borderRadius: 100,\n    border: 0,\n    color: 'white',\n    height: 56,\n    padding: '0 30px',\n    fontSize: '16px',\n    width: '300px',\n    margin: '32px auto',\n  },\n  label: {\n    textTransform: 'capitalize',\n  },\n})(Button);\n\nconst LogOutButton = withStyles({\n  root: {\n    flexBasis: 'fit-content',\n    padding: '8px 12px',\n    marginRight: '100px',\n  },\n  label: {\n    textTransform: 'capitalize',\n  },\n})(Button);\n\nclass MainPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [],\n      isAuthenticated: true,\n      newPostClicked: false,\n      latestPosts: [\n        {\"title\":\"Article1\", \"href\":\"/Article1\"},\n        {\"title\":\"Article1\", \"href\":\"/Article1\"},\n        {\"title\":\"Article1\", \"href\":\"/Article1\"}\n      ],\n      communityPosts: [\n        {\"title\":\"Meet an LGBTQ Asylee\", \"href\":\"Meet an LGBTQ Asylee\"},\n        {\"title\":\"Legal Questions\", \"href\":\"Legal Questions\"},\n        {\"title\":\"Leaving Your Country\", \"href\":\"Leaving Your Country\"}\n      ],\n      categoryPosts: [\n        {\"title\":\"Subcategory1\", \"href\":\"Subcategory1\"},\n        {\"title\":\"Subcategory1\", \"href\":\"Subcategory1\"},\n        {\"title\":\"Subcategory1\", \"href\":\"Subcategory1\"}\n      ],\n      topPosts: [\n        {\"title\":\"TopPost1\", \"href\":\"TopPost1\"}\n      ]\n    }\n\n  }\n\n  componentDidMount() {\n    this.initializeSubCategories(\"Welcome\");\n    this.initializeSubCategories(\"The Community\");\n    this.initializeSubCategories(\"Category\");\n  }\n\n  renderLatestPosts() {\n    const{latestPosts}=this.state;\n    var latestPostLinks = [];\n    for (var i = 0; i < latestPosts.length; i++)\n    {\n        latestPostLinks.push(\n           <a href={latestPosts[i].href}>P={latestPosts[i].title}<br/></a>\n        );\n    }\n    return latestPostLinks;\n  }\n\n  renderCommunityPosts(){\n    const{communityPosts}=this.state;\n        var communityPostLinks = [];\n        communityPostLinks.push(<SubCategoryDivider/>);\n        for (var i = 0; i < communityPosts.length; i++)\n        {\n            communityPostLinks.push(\n               <a href={communityPosts[i].href}>P={communityPosts[i].title}<br/></a>,\n               <SubCategoryDivider/>\n            );\n        }\n        return communityPostLinks;\n  }\n\n  renderCategoryPosts(){\n    const{categoryPosts}=this.state;\n          var categoryPostLinks = [];\n          categoryPostLinks.push(<SubCategoryDivider/>);\n          for (var i = 0; i < categoryPosts.length; i++)\n          {\n              categoryPostLinks.push(\n                 <a href={categoryPosts[i].href}>P={categoryPosts[i].title}<br/></a>,\n                 <SubCategoryDivider/>\n              );\n          }\n          return categoryPostLinks;\n  }\n\n  renderTopPosts() {\n      const{topPosts}=this.state;\n      var topPostLinks = [];\n      for (var i = 0; i < topPosts.length; i++)\n      {\n          topPostLinks.push(\n             <a href={topPosts[i].href}>P={topPosts[i].title}<br/></a>\n          );\n      }\n      return topPostLinks;\n    }\n\n\n  initializeSubCategories(categoryTitle) {\n      const category = {\n        title: categoryTitle\n      };\n      axios.get('/api/categories')\n        .then(response => {\n          var categoryId = response.data.data.categories.find(category => {\n            return category.title == categoryTitle;\n          })._id;\n          return axios.get('/api/subcategories', {\n            params: {\n              categoryId: categoryId\n            }\n          });\n        })\n        .then(response => {\n          category.subcategories = response.data.data.subcategories;\n          console.log(category.subcategories);\n          this.state.categories.push(category);\n          this.setState(this.state);\n        })\n    }\n\n  handleChange = e => {\n   this.setState({\n     [e.target.name] : e.target.value\n   })\n  }\n\n  handleNewPostClicked = event => {\n    event.preventDefault();\n    this.state.newPostClicked = true;\n    this.setState(this.state);\n  }\n\n  handleLogOut = event => {\n    event.preventDefault();\n    axios.post('/api/logout')\n      .then(response => {\n        this.state.isAuthenticated = false;\n        this.setState(this.state);\n      });\n  }\n\n  render(){\n    const {categories, isAuthenticated, newPostClicked} = this.state;\n\n    if (!isAuthenticated) {\n      return  (\n        <Redirect to=\"/\" />\n      )\n    }\n\n    if (newPostClicked) {\n      return (\n        <Redirect to=\"/CreateForum\" />\n      )\n    }\n\n    function SubCategories(props) {\n      const categories = props.categories;\n      if (categories) {\n\n        const specificCategory = categories\n          .find(category => {\n            return category.title == props.categoryTitle;\n          })\n\n        if (specificCategory && specificCategory.subcategories) {\n          var subCategoryLayouts = specificCategory\n            .subcategories\n            .map((subCategory) => {\n              // TODO: Send subCategory id as URL param\n              // const forumLink = \"/Forum/\" + subCategory._id;\n              const forumLink = \"/Forum\";\n              return (\n                // Add links to specific subCategory\n                <SubCategoryLayout>\n                  <SubCategoryDivider/>\n                  <SubCategoryLink>\n                    <a href={forumLink}>{subCategory.title}</a>\n                  </SubCategoryLink>\n                </SubCategoryLayout>\n              );\n            });\n          return (<div>{subCategoryLayouts}</div>);\n        }\n      }\n      return (<div>Text</div>);\n    }\n\n    return(\n        <PageContainer>\n          <MainFlexNavBar>\n            <Navbar/>\n            <LogOutButton onClick={this.handleLogOut}>LOG OUT</LogOutButton>\n          </MainFlexNavBar>\n          <MainFlexCenterPage>\n            <WelcomeHeader title=\"Welcome to the AsylumConnect Community!\"/>\n            <MainPageRow>\n              <CategoryLayout>\n                <CardHeader title=\"Welcome\"/>\n                <SubCategoryDivider/>\n                <a href=\"/Introduce Yourself\">Introduce Yourself</a>\n                <SubCategoryDivider/>\n                <CardHeader title=\"The Community\"/>\n                <ListContainer>\n                    {this.renderCommunityPosts()}\n                </ListContainer>\n                <CardHeader title=\"Category\"/>\n                <ListContainer>\n                    {this.renderCategoryPosts()}\n                </ListContainer>\n              </CategoryLayout>\n              <SideBarColumn>\n              <NewPostButton onClick={this.handleNewPostClicked}>MAKE A NEW POST</NewPostButton>\n              <SubCategoryDivider />\n              <CardHeader title=\"Latest Posts\" />\n              <ListContainer>\n                {this.renderLatestPosts()}\n              </ListContainer>\n              <SubCategoryDivider />\n              <CardHeader title=\"Top Posts\" />\n              <ListContainer>\n                {this.renderTopPosts()}\n              </ListContainer>\n              </SideBarColumn>\n            </MainPageRow>\n          </MainFlexCenterPage>\n          <Footer/>\n        </PageContainer>\n      );\n      }\n  }\n\nexport default MainPage;"]},"metadata":{},"sourceType":"module"}