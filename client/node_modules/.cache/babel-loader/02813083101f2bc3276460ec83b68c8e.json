{"ast":null,"code":"import _defineProperty from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/hbrinkley/Git/asylumconnect-communities/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/hbrinkley/Git/asylumconnect-communities/client/src/screens/MainPage.js\";\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  borderRight: '0.1px solid black';\\n  borderColor: 'black';\\n  padding: '0.5em';\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 12px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 12px 0px;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  flex-grow: 5;\\n  margin: 16px;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  display:flex;\\n  flex-direction:column;\\n  justify-content: space-around;\\n  align: left;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 8;\\n  flex-direction: column;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1;\\n  align-items: center;\\n  justify-content: space-between;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  background-color: white;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport TextBox from '../components/TextBox';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport { Redirect } from 'react-router-dom';\nimport RainbowPaint from '../assets/rainbow-paint.jpg';\nimport Navbar from '../components/Navbar';\nimport Footer from '../components/Footer';\nimport axios from 'axios';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport { withStyles } from '@material-ui/core/styles';\nvar PageContainer = styled.div(_templateObject());\nvar MainFlexNavBar = styled.div(_templateObject2());\nvar MainFlexCenterPage = styled.div(_templateObject3());\nvar LayoutLeft = styled.div(_templateObject4()); //const CardHeader = styled.div`\n//    display: flex;\n//    flex-direction:row;\n//`;\n\nvar WelcomeHeader = withStyles({\n  root: {\n    background: '#5073b3',\n    textColor: 'white',\n    height: 100,\n    textAlign: 'left'\n  },\n  \"root .MuiTypography-headline-45\": {\n    color: 'white'\n  }\n})(CardHeader); // const WelcomeHeader = styled.div`\n//   align: center;\n//   height: 100;\n// `;\n\nvar MainPageRow = styled.div(_templateObject5());\nvar CategoryLayout = styled.div(_templateObject6());\nvar SubCategoryLayout = styled.div(_templateObject7());\nvar SubCategoryDivider = withStyles({\n  root: {\n    marginTop: \"16px\",\n    marginBottom: \"16px\" //marginRight \"1px\"\n\n  }\n})(Divider);\nvar SubCategoryLink = styled.div(_templateObject8());\nvar SideBarColumn = styled.div(_templateObject9());\nvar NewPostButton = withStyles({\n  root: {\n    background: '#cc4747',\n    borderRadius: 100,\n    border: 0,\n    color: 'white',\n    height: 56,\n    padding: '0 30px',\n    fontSize: '16px',\n    width: '300px',\n    margin: '32px auto'\n  },\n  label: {\n    textTransform: 'capitalize'\n  }\n})(Button);\nvar LogOutButton = withStyles({\n  root: {\n    flexBasis: 'fit-content',\n    padding: '8px 12px',\n    marginRight: '100px'\n  },\n  label: {\n    textTransform: 'capitalize'\n  }\n})(Button);\n\nvar MainPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MainPage, _React$Component);\n\n  function MainPage(props) {\n    var _this;\n\n    _classCallCheck(this, MainPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainPage).call(this, props));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleNewPostClicked = function (event) {\n      event.preventDefault();\n      _this.state.newPostClicked = true;\n\n      _this.setState(_this.state);\n    };\n\n    _this.handleLogOut = function (event) {\n      event.preventDefault();\n      axios.post('/api/logout').then(function (response) {\n        _this.state.isAuthenticated = false;\n\n        _this.setState(_this.state);\n      });\n    };\n\n    _this.state = {\n      categories: [],\n      isAuthenticated: true,\n      newPostClicked: false,\n      latestPosts: [{\n        \"title\": \"Article1\",\n        \"href\": \"/Article1\"\n      }, {\n        \"title\": \"Article1\",\n        \"href\": \"/Article1\"\n      }, {\n        \"title\": \"Article1\",\n        \"href\": \"/Article1\"\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(MainPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initializeSubCategories(\"Welcome\");\n      this.initializeSubCategories(\"The Community\");\n      this.initializeSubCategories(\"Category\");\n    }\n  }, {\n    key: \"renderLatestPosts\",\n    value: function renderLatestPosts() {\n      var latestPosts = this.state.latestPosts;\n      var latestPostLinks = [];\n\n      for (var i = 0; i < latestPosts.length; i++) {\n        latestPostLinks.push(React.createElement(\"a\", {\n          href: latestPosts[i].href,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"P=\", latestPosts[i].title, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        })));\n      }\n    }\n  }, {\n    key: \"initializeSubCategories\",\n    value: function initializeSubCategories(categoryTitle) {\n      var _this2 = this;\n\n      var category = {\n        title: categoryTitle\n      };\n      axios.get('/api/categories').then(function (response) {\n        var categoryId = response.data.data.categories.find(function (category) {\n          return category.title == categoryTitle;\n        })._id;\n\n        return axios.get('/api/subcategories', {\n          params: {\n            categoryId: categoryId\n          }\n        });\n      }).then(function (response) {\n        category.subcategories = response.data.data.subcategories;\n        console.log(category.subcategories);\n\n        _this2.state.categories.push(category);\n\n        _this2.setState(_this2.state);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          categories = _this$state.categories,\n          isAuthenticated = _this$state.isAuthenticated,\n          newPostClicked = _this$state.newPostClicked;\n\n      if (!isAuthenticated) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        });\n      }\n\n      if (newPostClicked) {\n        return React.createElement(Redirect, {\n          to: \"/CreateForum\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        });\n      }\n\n      function SubCategories(props) {\n        var categories = props.categories;\n\n        if (categories) {\n          var specificCategory = categories.find(function (category) {\n            return category.title == props.categoryTitle;\n          });\n\n          if (specificCategory && specificCategory.subcategories) {\n            var subCategoryLayouts = specificCategory.subcategories.map(function (subCategory) {\n              // TODO: Send subCategory id as URL param\n              // const forumLink = \"/Forum/\" + subCategory._id;\n              var forumLink = \"/Forum\";\n              return (// Add links to specific subCategory\n                React.createElement(SubCategoryLayout, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 238\n                  },\n                  __self: this\n                }, React.createElement(SubCategoryDivider, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 239\n                  },\n                  __self: this\n                }), React.createElement(SubCategoryLink, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 240\n                  },\n                  __self: this\n                }, React.createElement(\"a\", {\n                  href: forumLink,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 241\n                  },\n                  __self: this\n                }, subCategory.title)))\n              );\n            });\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 246\n              },\n              __self: this\n            }, subCategoryLayouts);\n          }\n        }\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, \"Text\");\n      }\n\n      return React.createElement(PageContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(MainFlexNavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }), React.createElement(LogOutButton, {\n        onClick: this.handleLogOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"LOG OUT\")), React.createElement(MainFlexCenterPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(WelcomeHeader, {\n        title: \"Welcome to the AsylumConnect Community!\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), React.createElement(MainPageRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(CategoryLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        title: \"Welcome\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/Introduce Yourself\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"Introduce Yourself\"), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }), React.createElement(CardHeader, {\n        title: \"The Community\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/Meet An LGBTQ Asylee\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"Meet An LGBTQ Asylee\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      })), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/Legal Questions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"Legal Questions\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      })), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/Leaving Your Country\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, \"Leaving Your Country\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      })), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), React.createElement(CardHeader, {\n        title: \"Category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/Subcategory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"Subcategory\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      })), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      })), React.createElement(SideBarColumn, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(NewPostButton, {\n        onClick: this.handleNewPostClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"MAKE A NEW POST\"), React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }), React.createElement(CardHeader, {\n        title: \"Latest Posts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }), this.renderLatestPosts, React.createElement(SubCategoryDivider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }), React.createElement(CardHeader, {\n        title: \"Top Posts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/PostTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, \"PostTitle\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return MainPage;\n}(React.Component);\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/hbrinkley/Git/asylumconnect-communities/client/src/screens/MainPage.js"],"names":["React","styled","TextBox","Input","Button","Redirect","RainbowPaint","Navbar","Footer","axios","CardHeader","Divider","withStyles","PageContainer","div","MainFlexNavBar","MainFlexCenterPage","LayoutLeft","WelcomeHeader","root","background","textColor","height","textAlign","color","MainPageRow","CategoryLayout","SubCategoryLayout","SubCategoryDivider","marginTop","marginBottom","SubCategoryLink","SideBarColumn","NewPostButton","borderRadius","border","padding","fontSize","width","margin","label","textTransform","LogOutButton","flexBasis","marginRight","MainPage","props","handleChange","e","setState","target","name","value","handleNewPostClicked","event","preventDefault","state","newPostClicked","handleLogOut","post","then","response","isAuthenticated","categories","latestPosts","initializeSubCategories","latestPostLinks","i","length","push","href","title","categoryTitle","category","get","categoryId","data","find","_id","params","subcategories","console","log","SubCategories","specificCategory","subCategoryLayouts","map","subCategory","forumLink","renderLatestPosts","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from 'styled-components'\nimport TextBox from '../components/TextBox';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport  { Redirect } from 'react-router-dom'\nimport RainbowPaint from '../assets/rainbow-paint.jpg'\nimport Navbar from '../components/Navbar'\nimport Footer from '../components/Footer'\nimport axios from 'axios'\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst PageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n`;\n\nconst MainFlexNavBar = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst MainFlexCenterPage = styled.div`\n  flex: 8;\n  flex-direction: column;\n`;\n\nconst LayoutLeft = styled.div`\n  display:flex;\n  flex-direction:column;\n  justify-content: space-around;\n  align: left;\n`;\n\n//const CardHeader = styled.div`\n//    display: flex;\n//    flex-direction:row;\n//`;\n\nconst WelcomeHeader = withStyles({\n  root: {\n    background: '#5073b3',\n    textColor: 'white',\n    height: 100,\n    textAlign: 'left'\n  },\n  \"root .MuiTypography-headline-45\": {\n    color: 'white'\n  },\n})(CardHeader);\n\n// const WelcomeHeader = styled.div`\n//   align: center;\n//   height: 100;\n// `;\n\nconst MainPageRow = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst CategoryLayout = styled.div`\n  flex: 1;\n  flex-grow: 5;\n  margin: 16px;\n`;\n\nconst SubCategoryLayout = styled.div`\n  margin: 12px 0px;\n`;\n\nconst SubCategoryDivider = withStyles({\n  root: {\n    marginTop: \"16px\",\n    marginBottom: \"16px\"\n    //marginRight \"1px\"\n  }\n})(Divider);\n\nconst SubCategoryLink = styled.div`\n  margin: 12px;\n`;\n\nconst SideBarColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  borderRight: '0.1px solid black';\n  borderColor: 'black';\n  padding: '0.5em';\n`;\n\n\nconst NewPostButton = withStyles({\n  root: {\n    background: '#cc4747',\n    borderRadius: 100,\n    border: 0,\n    color: 'white',\n    height: 56,\n    padding: '0 30px',\n    fontSize: '16px',\n    width: '300px',\n    margin: '32px auto',\n  },\n  label: {\n    textTransform: 'capitalize',\n  },\n})(Button);\n\nconst LogOutButton = withStyles({\n  root: {\n    flexBasis: 'fit-content',\n    padding: '8px 12px',\n    marginRight: '100px',\n  },\n  label: {\n    textTransform: 'capitalize',\n  },\n})(Button);\n\nclass MainPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [],\n      isAuthenticated: true,\n      newPostClicked: false,\n      latestPosts: [\n        {\"title\":\"Article1\", \"href\":\"/Article1\"},\n        {\"title\":\"Article1\", \"href\":\"/Article1\"},\n        {\"title\":\"Article1\", \"href\":\"/Article1\"}\n      ]\n    }\n\n  }\n\n  componentDidMount() {\n    this.initializeSubCategories(\"Welcome\");\n    this.initializeSubCategories(\"The Community\");\n    this.initializeSubCategories(\"Category\");\n  }\n\n  renderLatestPosts() {\n    const{latestPosts}=this.state;\n    var latestPostLinks = [];\n    for (var i = 0; i < latestPosts.length; i++)\n    {\n        latestPostLinks.push(\n           <a href={latestPosts[i].href}>P={latestPosts[i].title}<br/></a>\n        );\n    }\n  }\n\n  initializeSubCategories(categoryTitle) {\n      const category = {\n        title: categoryTitle\n      };\n      axios.get('/api/categories')\n        .then(response => {\n          var categoryId = response.data.data.categories.find(category => {\n            return category.title == categoryTitle;\n          })._id;\n          return axios.get('/api/subcategories', {\n            params: {\n              categoryId: categoryId\n            }\n          });\n        })\n        .then(response => {\n          category.subcategories = response.data.data.subcategories;\n          console.log(category.subcategories);\n          this.state.categories.push(category);\n          this.setState(this.state);\n        })\n    }\n\n  handleChange = e => {\n   this.setState({\n     [e.target.name] : e.target.value\n   })\n  }\n\n  handleNewPostClicked = event => {\n    event.preventDefault();\n    this.state.newPostClicked = true;\n    this.setState(this.state);\n  }\n\n  handleLogOut = event => {\n    event.preventDefault();\n    axios.post('/api/logout')\n      .then(response => {\n        this.state.isAuthenticated = false;\n        this.setState(this.state);\n      });\n  }\n\n  render(){\n    const {categories, isAuthenticated, newPostClicked} = this.state;\n\n    if (!isAuthenticated) {\n      return  (\n        <Redirect to=\"/\" />\n      )\n    }\n\n    if (newPostClicked) {\n      return (\n        <Redirect to=\"/CreateForum\" />\n      )\n    }\n\n    function SubCategories(props) {\n      const categories = props.categories;\n      if (categories) {\n\n        const specificCategory = categories\n          .find(category => {\n            return category.title == props.categoryTitle;\n          })\n\n        if (specificCategory && specificCategory.subcategories) {\n          var subCategoryLayouts = specificCategory\n            .subcategories\n            .map((subCategory) => {\n              // TODO: Send subCategory id as URL param\n              // const forumLink = \"/Forum/\" + subCategory._id;\n              const forumLink = \"/Forum\";\n              return (\n                // Add links to specific subCategory\n                <SubCategoryLayout>\n                  <SubCategoryDivider/>\n                  <SubCategoryLink>\n                    <a href={forumLink}>{subCategory.title}</a>\n                  </SubCategoryLink>\n                </SubCategoryLayout>\n              );\n            });\n          return (<div>{subCategoryLayouts}</div>);\n        }\n      }\n      return (<div>Text</div>);\n    }\n\n    return(\n        <PageContainer>\n          <MainFlexNavBar>\n            <Navbar/>\n            <LogOutButton onClick={this.handleLogOut}>LOG OUT</LogOutButton>\n          </MainFlexNavBar>\n          <MainFlexCenterPage>\n            <WelcomeHeader title=\"Welcome to the AsylumConnect Community!\"/>\n            <MainPageRow>\n              <CategoryLayout>\n                <CardHeader title=\"Welcome\"/>\n                <SubCategoryDivider/>\n                <a href=\"/Introduce Yourself\">Introduce Yourself</a>\n                <SubCategoryDivider/>\n                <CardHeader title=\"The Community\"/>\n                <SubCategoryDivider/>\n                <a href=\"/Meet An LGBTQ Asylee\">Meet An LGBTQ Asylee<br/></a>\n                <SubCategoryDivider/>\n                <a href=\"/Legal Questions\">Legal Questions<br/></a>\n                <SubCategoryDivider/>\n                <a href=\"/Leaving Your Country\">Leaving Your Country<br/></a>\n                <SubCategoryDivider/>\n                <CardHeader title=\"Category\"/>\n                <SubCategoryDivider/>\n                <a href=\"/Subcategory\">Subcategory<br/></a>\n                <SubCategoryDivider/>\n              </CategoryLayout>\n              <SideBarColumn>\n              <NewPostButton onClick={this.handleNewPostClicked}>MAKE A NEW POST</NewPostButton>\n              <SubCategoryDivider />\n              <CardHeader title=\"Latest Posts\" />\n              {this.renderLatestPosts}\n              <SubCategoryDivider />\n              <CardHeader title=\"Top Posts\" />\n              <a href=\"/PostTitle\">PostTitle<br/></a>\n              </SideBarColumn>\n            </MainPageRow>\n          </MainFlexCenterPage>\n          <Footer/>\n        </PageContainer>\n      );\n      }\n  }\n\nexport default MainPage;"]},"metadata":{},"sourceType":"module"}